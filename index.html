<!DOCTYPE html>

<html>

  <head>

    <title>Word Wizard</title>
    <link rel="stylesheet" href="styles.css" type="text/css">
    <script
        src="http://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous">
    </script>
    <script type='text/javascript' src="wordwizard.js"></script>

  </head>

  <body>
    <div id= "title">Word Wizard</div>
    <div class = "game" id= "game">
        
        <h1>Spot The Bingo</h1>

        <button id="grabmore">Fetch 10 Bingos</button>

        <ul id="bingos">

        </ul>
        <div id = "guesses"></div>
        <div id = "letterbank"></div>
    </div>
    <div class = "play" id = "play">
        
    </div>

    

  <script>

    $(document).ready(function(){

      

      let showRacks = function(racks){

        $("#bingos").html('');

        racks.map(rack=>{

          $("#bingos").append(`<li>${rack.rack}: <span class="answer hidden">${rack.words}</span></li>`);

        });

        $("#bingos li").on("click", function(evt){

          $(evt.currentTarget).find(".answer").toggleClass("hidden");

        });

      }

      

      $("#grabmore").on("click", function(){

        $.ajax({

            method: "GET",

            url: "api.php",

            success: data=>{ showRacks(data)}

        });

      });

    });

  </script>
  </body>

</html>